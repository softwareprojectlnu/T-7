<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" routerLink="">ngShop</a>
  <button (click)="isCollapsed = !isCollapsed" class="navbar-toggler" type="button" aria-controls="navbarNavDropdown" [attr.aria-expanded]="!isCollapsed"
    aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div [ngbCollapse]="isCollapsed" class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="cart">
          <i class="fa fa-shopping-cart" aria-hidden="true"></i>
          Shopping cart
          <span *ngIf="itemsInCart" class="badge badge-pill badge-warning">{{ itemsInCart }}</span>
        </a>
      </li>
      <li *ngIf="user && user.isAdmin" ngbDropdown class="nav-item">
        <a ngbDropdownToggle class="nav-link" id="adminDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Admin
        </a>
        <div ngbDropdownMenu aria-labelledby="adminDropdownMenuLink">
          <a class="dropdown-item" routerLinkActive="active" routerLink="admin/orders">Manage orders</a>
          <a class="dropdown-item" routerLinkActive="active" routerLink="admin/products">Manage products</a>
        </div>
      </li>

      <li *ngIf="!user" class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="login">Login</a>
      </li>
      <li *ngIf="user" ngbDropdown class="nav-item">
        <a ngbDropdownToggle class="nav-link" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{ user.name }}
        </a>
        <div ngbDropdownMenu aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" routerLinkActive="active" routerLink="orders">My orders</a>
          <a class="dropdown-item" (click)="logout()">Logout</a>
        </div>
      </li>
    </ul>
    <!--This is the search bar and button-->
    <input class="form-control" type="text" placeholder="Search" aria-label="Search" [(ngModel)]="searchterm" (keydown.enter)="search($event)">
    <input class="btn btn-outline-success" type="Submit" ngbButtonLabel="search" (click)="searchbt()" >
  </div>
</nav>

<!--The search results are displayed here-->

<ul *ngFor="let products of productss">

  <div class="card">
    <img class="card-img-top" [src]="products.imageUrl" [alt]="products.title">
    <div class="card-body">
      <h4 class="card-title">{{ products.title }}</h4>
      <p class="card-text">{{ products.price | currency:'EUR':'symbol' }}</p>
      <div *ngIf="products.key">
        <!--Still need to import these functions below from product card into the .ts file-->

        <!--<button class="btn btn-block btn-primary" *ngIf="ordered==0" (click)="increase()">Order</button>-->
        <!--<div class="input-group" *ngIf="ordered!=0">-->
        <!--<button (click)="decrease()" class="input-group-addon btn btn-secondary">-->
        <!--<i class="fa fa-minus" aria-hidden="true"></i>-->
        <!--</button>-->
        <!--<input (change)="amountChanged()" type="number" class="form-control text-center" [(ngModel)]="ordered" />-->
        <!--<button (click)="increase()" class="input-group-addon btn btn-secondary">-->
        <!--<i class="fa fa-plus" aria-hidden="true"></i>-->
        <!--</button>-->
        <!--</div>-->
      </div>
    </div>
  </div>

</ul>

